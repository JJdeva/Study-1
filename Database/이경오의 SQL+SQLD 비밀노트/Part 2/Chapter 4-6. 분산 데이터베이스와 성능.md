# 1. 분산 데이터베이스의 개요

분산 데이터베이스는 여러 곳으로 분산되어 있는 데이터베이스를 하나의 가상 시스템으로 사용할 수 있도록 한 데이터베이스이다. 논리적으로 동일한 시스템에 속하지만, 컴퓨터 네트워크를 통해 물리적으로 분산되어 있는 데이터들의 모임이다. 물리적 위치가 분산되지만, 논리적으로는 여러 사용자가 공유할 수 있다.

# 2. 분산 데이터베이스의 투명성

분산 데이터베이스의 투명성(Transparency)은 해당 데이터베이스를 사용하는 사용자가 데이터베이스 시스템이 분산되어 있는 것을 인식하지 못하고 자신만의 데이터베이스 시스템을 사용하는 것으로 인식하도록 만드는 것이다.

- 분할 투명성(단편화)
	- 하나의 논리적 Relation(테이블)이 여러 단편으로 분할되어 각 단편의 사본이 여러 Site에 저장된다.
	- 사용자는 한 곳에 위치하는 것으로 인식해야 한다.
- 위치 투명성
	- 사용하려는 데이터의 저장 장소를 명시할 필요가 없다. 위치 정보가 System Catalog에 유지되어야 한다.
	- 사용자는 데이터가 어디에 위치하는지에 대해 신경 쓸 필요가 없다.
- 지역 사상 투명성
	- 지역 DBMS와 물리적 DB 사이의 Mapping을 보장한다. 각 지역 시스템 이름과 무관한 이름을 사용 가능하다.
	- 사용자가 해당 데이터 어느 지역에 위치하는지를 신경 쓸 필요가 없어야 한다.
- 중복 투명성
	- DB 객체가 여러 Site에 중복되어 있는지 사용자는 전혀 알 필요가 없는 성질이다.
- 장애 투명성
	- 구성요소(DBMS, Computer)의 장애에 무관한 Transaction의 원자성을 유지한다.
	- 분산 DB의 장애상황과는 무관하게 원자성을 유지해야 한다.
- 병행 투명성
	- 다수 Transaction이 동시에 수행 시 결과의 일관성을 유지해야 한다. (Locking과 Time Stamp 방법을 주로 이용한다.)

# 3. 분산 데이터베이스의 적용 방법

분산 환경의 데이터베이스를 우수한 성능으로 현장에서 가치있게 사용하는 방법은 업무의 흐름을 보고 업무구성에 따른 아키텍처 특징에 따라 데이터베이스를 구성하는 것이다. 단순히 분산 환경에서 데이터베이스를 구축하는 것이 목적이 아니라, 업무의 특징에 따라 데이터베이스 분산구조를 선택적으로 설계하는 능력이 필요하다.

# 4. 분산 데이터베이스의 장단점

- 분산 데이터베이스의 장점
	- 지역자치성, 검증적 시스템 용량 확장
	- 신뢰성과 가용성
	- 효용성과 융통성
	- 빠른 응답 속도와 통신비용 절감
	- 데이터의 가용성과 신뢰성 증가
	- 시스템 규모의 적절한 조절
	- 각 지역 사용자의 요구 수용 증대
- 분산 데이터베이스의 단점
	- 소프트웨어 개발 비용
	- 오류의 잠재성 증대
	- 처리 비용의 증대
	- 설계 및 관리의 복잡성과 비용
	- 불규칙한 응답 속도
	- 통제의 어려움
	- 데이터 무결성에 대한 위협

# 5. 분산 데이터베이스의 활용 방향성

과거의 분산 데이터방식을 살펴보자. 과거에는 위치 중심의 분산 설계였다. 서버가 지역별로 나눠져있고 서로 간의 네트워크로 연결하는 방식이다.

![](/bin/db_image/SQLD_4_6_1.png)

최근에는 업무 특성에 맞게 내부 및 외부를 나눠서 설계하고 있다.

![](/bin/db_image/SQLD_4_6_2.png)

내부 운영 서버가 있고 외부에 오픈된 서버가 있어서 업무에 따라서 내/외부를 분산한다. 이 방식은 통합된 데이터베이스에서 제공할 수 없는 빠른 성능을 제공한다. 또한, 원거리 또는 다른 서버에 접속하여 발생되는 네트워크 부하 및 트랜잭션 집중에 따른 성능 저하의 원한을 분석하여 분산 데이터베이스 환경을 구축함으로써 성능 문제 발생 원인을 제거할 수 있다.

# 6. 분산 데이터베이스의 적용 기법

분산 데이터베이스의 적용 기법은 테이블 위치 분산, 테이블 분할 분산, 테이블 복제 분산, 테이블 요약 분산이 있다.

- 테이블 위치(Location) 분산
	- 설계된 테이블의 위치를 각각 다르게 위치시키는 것이다.
- 테이블 분할(Fragmentation) 분산
	- 각각의 테이블을 쪼개어 분산하는 방법이다.
	- 수평 분할
		- 지사(Node)에 따라 테이블을 특정 칼럼의 값을 기준으로 로우(Row)를 분리한다.
	- 수직 분할
		- 지사(Node)에 따라 테이블 칼럼을 기준으로 칼럼(Column)을 분리한다. 로우(Row) 단위로는 분리되지 않는다.
- 테이블 복제(Replication) 분산
	- 동일한 테이블을 다른 지역이나 서버에서 동시에 생성하여 관리하는 유형이다.
	- 부분 복제
		- 통합된 테이블을 한 군데(본사)에 가지고 있으면서 각 지사별로는 지사에 해당된 로우(Row)를 가지고 있는 형태이다.
	- 광역 복제
		- 통합된 테이블을 한 군데(본사)에 가지고 있으면서 각 지사에도 본사와 동일한 데이터를 모두 가지고 있는 형태이다.
- 테이블 요약(Summarization) 분산
	- 지역 간에 또는 서버 간에 데이터가 비슷하지만 서로 다른 유형으로 존재하는 경우이다.
	- 분석 요약
		- 각 지사별로 존재하는 요약정보를 본사에 통합하여 다시 전체에 대해서 요약 정보를 산출하는 분산방법이다.
	- 통합요약
		- 각 지사별로 존재하는 다른 내용의 정보를 본사에 통합하여 다시 전체에 대해서 요약정보를 산출하는 분산방법이다.

# 7. 분산 데이터베이스를 적용하여 성능이 향상된 사례

아래와 같은 성능이 저하된 분산 환경이 있다.

![](/bin/db_image/SQLD_4_6_3.png)

메인 업무를 처리할 때 원격지에 있는 인사 DB에서 사용자의 정보를 원격 조회해야 한다. 메인 업무의 처리 요청이 들어올 때마다 원격지의 DB에 접속해서 데이터를 가져와야 하는 것이다. 원격지에 있는 테이블과의 빈번한 조인 연산으로 네트워크 부하 및 조인 연산 자체의 부하로 인해 성능이 저하된다.

이런 상황을 해결하기 위해서 아래와 같은 분산 환경을 구축할 수 있다.

![](/bin/db_image/SQLD_4_6_4.png)

인사 DB에 있는 사용자 정보를 업무 DB로 복제해서 관리한다. 메인 업무를 처리할 때 인사 DB와의 빈번한 조인 연산(네트워크 통신)이 일어나지 않고 업무 DB 내부에서 처리하게 된다.