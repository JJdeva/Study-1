# Table of Contents

- [1. 데이터베이스 설계 단계](#1-데이터베이스-설계-단계)
    - [A. 데이터베이스 설계](#a-데이터베이스-설계)
    - [B. E-R 모델과 릴레이션 변환 규칙을 이용한 설계의 과정](#b-e-r-모델과-릴레이션-변환-규칙을-이용한-설계의-과정)
- [2. 요구사항 분석](#2-요구사항-분석)
    - [A. 요구 사항 분석 예 (한빛 마트 데이터베이스)](#a-요구-사항-분석-예-한빛-마트-데이터베이스)
- [3. 개념적 설계](#3-개념적-설계)
    - [STEP 3. E-R 다이어그램 작성](#step-3-e-r-다이어그램-작성)
- [4. 논리적 설계](#4-논리적-설계)
    - [A. 설계 3단계 : 논리적 설계](#a-설계-3단계--논리적-설계)

---

# 1. 데이터베이스 설계 단계

## A. 데이터베이스 설계

- 사용자의 다양한 요구사항을 고려하여 데이터베이스를 생성하는 과정
- E-R 모델과 릴레이션 변환 규칙을 이용한 설계의 과정

![](/bin/db_image/db_4_1.png)

## B. E-R 모델과 릴레이션 변환 규칙을 이용한 설계의 과정

![](/bin/db_image/db_4_2.png)

# 2. 요구사항 분석

## A. 요구 사항 분석 예 (한빛 마트 데이터베이스)

- 인터넷으로 회원들에게 상품을 판매하는 한빛 마트의 데이터베이스 개발

![](/bin/db_image/db_5_1.png)

# 3. 개념적 설계

## STEP 3. E-R 다이어그램 작성

![](/bin/db_image/db_5_7.png)

# 4. 논리적 설계

## A. 설계 3단계 : 논리적 설계

### a. 목적

- DBMS에 적합한 **논리적 스키마 설계**
- 개념적 스키마를 논리적 데이터 모델을 이용해 논리적 구조로 표현
	- 논리적 모델링 (데이터 모델링)
- 일반적으로 관계 데이터 모델을 많이 사용

### b. 결과물

- 논리적 스키마 : **릴레이션 스키마**

### c. 주요 작업

- 개념적 설계 단계의 결과물인 **E-R 다이어그램을 릴레이션 스키마로 변환**
- 릴레이션 스키마 변환 후 **속성의 데이터 타입, 길이, 널 값 허용 여부, 기본 값, 제약조건 등을 세부적으로 결정하고 결과를 문서화**시킴

### d. E-R 다이어그램을 릴레이션 스키마로 변환하는 규칙

> 변환 규칙을 순서대로 적용하되, 해당되지 않는 규칙은 제외함

#### 규칙 1. 모든 **개체**는 릴레이션으로 변환한다.

##### 1) E-R 다이어그램의 각 개체를 하나의 릴레이션으로 변환

> 개체의 속성이 복합 속성인 경우에는 복합 속성을 구성하고 있는 **단순 속성**만 릴레이션의 속성으로 변환

- 개체의 이름
	- 릴레이션 이름
- 개체의 속성
	- 릴레이션의 속성
- 개체의 키 속성
	- 릴레이션의 기본키

![](/bin/db_image/db_7_1.png)

##### 2) 릴레이션 스키마 변환 규칙을 이용한 논리적 설계 예

![](/bin/db_image/db_7_2.png)

#### 규칙 2. **다대다(n:m) 관계**는 릴레이션으로 변환한다.

##### 1) E-R 다이어그램의 다대다 관계를 하나의 릴레이션으로 변환

> 관계에 참여하는 개체를 규칙 1에 따라 릴레이션으로 변환한 후 이 **릴레이션의 기본키를 관계 릴레이션에 포함시켜 외래키로 지정**하고 **외래키들을 조합하여 관계 릴레이션의 기본키로 지정**

- 관계의 이름
	- 릴레이션 이름
- 관계의 속성
	- 릴레이션의 속성

![](/bin/db_image/db_7_3.png)

##### 2) 릴레이션 스키마 변환 규칙을 이용한 논리적 설계 예

![](/bin/db_image/db_7_4.png)

#### 규칙 3. **일대다(1:n) 관계**는 외래키로 표현한다.

##### 1) E-R 다이어그램의 일대다 관계는 외래키로만 표현

###### (규칙 3-1) 일반적인 일대다 관계는 외래키로 표현한다.

- 일대다(1:n) 관계에서 **1측 개체 릴레이션의 기본키를 n측 개체 릴레이션에 포함시켜 외래키로 지정**
- **관계의 속성들도 n측 개체 릴레이션에 포함**시킴

![](/bin/db_image/db_7_5.png)

###### (규칙 3-2) 약한 개체가 참여하는 일대다 관계는 외래키를 포함해서 기본키로 지정한다.

- 일대다(1:n) 관계에서 1측 개체 릴레이션의 기본키를 n측 개체 릴레이션에 포함시켜 외래키로 지정
- 관계의 속성들도 n측 개체 릴레이션에 포함시킴
- **n측 개체 릴레이션은 외래키를 포함하여 기본키를 지정**함
	- 약한 개체는 오너 개체에 따라 존재 여부가 결정되므로 오너 개체의 기본키를 이용해 식별해야 함

![](/bin/db_image/db_7_6.png)

##### 2) 릴레이션 스키마 변환 규칙을 이용한 논리적 설계 예

![](/bin/db_image/db_7_7.png)

#### 규칙 4. **일대일(1:1) 관계**는 외래키로 표현한다.

##### 1) E-R 다이어그램의 일대일 관계는 외래키로만 표현

###### (규칙 4-1) 일반적인 일대일 관계는 외래키를 서로 주고 받는다.

- 관계에 참여하는 개체 릴레이션들이 **서로의 기본키를 주고 받아 외래키로 지정**
- **관계의 속성들도 모든 개체 릴레이션에 포함**시킴
- **불필요한 데이터 중복이 발생**할 수 있음

![](/bin/db_image/db_7_8.png)

###### (규칙 4-2) 일대일 관계에 필수적으로 참여하는 개체의 릴레이션만 외래키를 받는다.

- **관계에 필수적으로 참여하는 개체 릴레이션에만 외래키를 포함**시킴
- **관계의 속성들은 관계에 필수적으로 참여하는 개체 릴레이션에 포함**시킴

![](/bin/db_image/db_7_9.png)

###### (규칙 4-3) 모든 개체가 일대일 관계에 필수적으로 참여하면 릴레이션을 하나로 합친다.

- **관계에 참여하는 개체 릴레이션들을 하나의 릴레이션으로 합쳐**서 표현
- **관계의 이름을 릴레이션 이름**으로 사용하고 **관계에 참여하는 두 개체의 속성들을 관계 릴레이션에 모두 포함**시킴
- **두 개체 릴레이션의 키 속성을 조합하여 관계 릴레이션의 기본키**로 지정

![](/bin/db_image/db_7_10.png)

##### 2) 릴레이션 스키마 변환 규칙을 이용한 논리적 설계 예

- 일대일 관계가 없으므로 규칙 4는 적용할 필요가 없음

#### 규칙 5. 다중 값 속성은 릴레이션으로 변환한다.

- 다중 값 속성과 함께 **그 속성을 가지고 있던 개체 릴레이션의 기본키를 외래키로 가져와 새로운 릴레이션에 포함**시킴
- **새로운 릴레이션의 기본키는 다중 값 속성과 외래키를 조합**하여 지정

![](/bin/db_image/db_7_11.png)

##### 2) 릴레이션 스키마 변환 규칙을 이용한 논리적 설계 예

- 일대일 관계가 없으므로 규칙 5는 적용할 필요가 없음

#### 기타 고려 사항

##### 1) 속성이 많은 관계

- 모든 관계를 독립적인 릴레이션으로 변환할 수 있다.
	- 속성이 많은 관계는 유형에 상관없이 릴레이션으로의 변환을 고려할 수 있음

![](/bin/db_image/db_7_12.png)

##### 2) 순환 관계

- 개체가 자기 자신과 관계를 맺는 순환 관계도 기본 규칙을 그대로 적용

![](/bin/db_image/db_7_13.png)

### e. E-R 다이어그램을 릴레이션으로 변환한 결과

![](/bin/db_image/db_7_14.png)
