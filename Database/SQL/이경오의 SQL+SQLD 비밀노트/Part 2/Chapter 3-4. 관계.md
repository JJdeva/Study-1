# 1. 관계의 정의

엔티티끼리 상호 연관성이 있는 상태를 의미한다. 관계는 데이터 모델 내에 존재하는 엔티티 간 논리적인 연관성을 의미한다. 관계는 부서 엔티티와 사원 엔티티의 관계와 같이 존재에 의한 관계가 있고, 고객 엔티티와 주문 엔티티의 관계와 같이 행위에 의한 관계가 있다.

![](/bin/db_image/SQLD_3_4_1.png)

하나의 **지하철역**이 여러 개의 **지하철역승하차**정보를 가지고 있는 것을 표현하고 있다.

# 2. 관계의 페어링

관계는 엔티티 안에 인스턴스가 개별적으로 관계를 가지는 것(페어링)이고 이것의 집합을 관계로 표현한다는 것이다. 개별 인스턴스가 각각 다른 종류의 관계를 가지고 있다면 두 엔티티 사이에 2개 이상의 관계가 형성될 수 있다.

엔티티 내의 인스턴스가 개별적으로 관계를 가지는 것을 관계 페어링(Relationship Pairing)이라고 하고, 관계는 이러한 관계 페어링을 논리적으로 표현한 것이다.

![](/bin/db_image/SQLD_3_4_2.png)

강사 엔티티 내 각각의 인스턴스는 자신의 연관성을 가지고 있을 수 있다. 이것을 집합하여 **강의한다**라는 관계를 도출하였다.

# 3. 관계의 표기법

관계의 표기 시에는 관계 차수(Cardinality) 및 관계 선택사양을 명확하게 해야 한다.

### A. 관계 차수

2개의 엔티티 간 관계에서 참여자의 수를 표현하는 것을 관계 차수라고 한다. 가장 일반적인 관계 차수 표현방법에는 1:M, 1:1, M:M이 있다.

![](/bin/db_image/SQLD_3_4_3.png)

- 1:1
	- 각각의 엔티티는 관계를 맺는 다른 엔티티에 대해 단지 하나의 관계만을 가지고 있다. 한 명의 사원은 단 1개의 병역사항을 가진다.
- 1:M
	- 한 명의 사원은 한 부서에 소속되고 한 부서는 여러 사원을 포함한다.
- M:M
	- 관계에 참여하는 각각의 엔티티는 관계를 맺는 다른 엔티티에 대해 하나 혹은 두 개 이상의 관계를 가지고 있다. 주문은 여러 제품을 포함할 수 있고, 제품도 여러 주문에 의해 주문될 수 있다.

### B. 관계 선택사양

```ad-example
title: 예시

- 필수참여관게
	- 열차의 출발과 열차문의 완전한 닫힘은 필수(Mandatory)적인 연관관계이다.
- 선택적인(Optinal) 관계
	- 열차의 출발과 출발 안내 방송은 정보 안내로서의 관련은 있지만 서로가 필수적인 상황은 아니다.

```

##### a. 필수적 관계

![](/bin/db_image/SQLD_3_4_4.png)

지하철역승하차는 지하철역번호가 반드시 존재해야 한다. (실선)

##### b. 선택적 관계

![](/bin/db_image/SQLD_3_4_5.png)

지하철역은 지하철역승하차가 존재하지 않을 수도 있다.

# 4. 관계정의 시 체크 사항

엔티티 간의 관계를 정의할 때는 아래의 체크 사항을 만족하는지 확인해야 한다.

```ad-check
title: 관계정의 시 체크 사항

1. 2개의 엔티티 사이에 관심 있는 연관 규칙이 존재하는가?
2. 2개의 엔티티 사이에 정보의 조합이 발생되는가?
3. 업무기술서, 장표에 관계연결에 대한 규칙이 서술되어 있는가?
4. 업무기술서, 장표에 관계연결을 가능하게 하는 동사가 있는가?

```

# 5. 관계읽기

기준 엔티티를 1개 혹은 각각으로 읽는다. 대상 엔티티의 관계 참여도의 개수를 하나 혹은 하나 이상으로 읽고 관계선택사양과 관계명을 읽는다.

![](/bin/db_image/SQLD_3_4_6.png)

![](/bin/db_image/SQLD_3_4_7.png)

관계차수가 **여러 개**인 경우에는 까치발 표시를 하며, 필수/선택이 **때때로**인 경우에는 선택적 관계이므로 점선으로 표시하고, **반드시**인 경우에는 필수적 관계이므로 실선으로 표시한다.
