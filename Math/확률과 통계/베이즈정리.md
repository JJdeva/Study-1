# 1. 베이즈 정리

> 로또를 구매하려고 한다. 로또 용지를 5장 구매할때 각 로또는 독립적이다. 각 로또의 당첨될 확률은 2/5이고 당첨되지 않을 확률은 3/5이다. 구매한 로또가 모두 똑같은 번호일 경우 로또에 당첨될 확률은 얼마인가?

```
A = 구매한 로또가 모두 똑같은 번호일 경우
B = 로또에 당첨될 확률
```

베이즈 정리를 풀어보면 아래와 같은 식이 나온다.

$$P(B|A) = \frac{P(B\cap A)}{P(A)} = \frac{P(A|B)P(B)}{P(A)}$$

---

$\frac{P(A|B)P(B)}{P(A)}$에서

$P(A|B)$는 로또에 당첨되었을 때 구매한 로또가 모두 똑같은 번호일 확률은 $(\frac{2}{5})^5$이다.

$P(B)$는 사전 확률이므로 지금으로써는 알 수 없다.

$P(A)$를 푸는 방법은 2가지가 있다.

1. $P(A)$는 2가지 경우를 내포하고 있다.
	1. 구매한 로또가 모두 똑같은 번호이자, 로또에 당첨되는 경우
	2. 구매한 로또가 모두 똑같은 번호이자, 로또에 당첨되지 않는 경우

	즉, $P(A) = (\frac{2}{5})^5P(B) + (\frac{3}{5})^5P(B^c)$ 이라는 결론이 나온다.

2. 위와 동일한 방식이지만, $P(A)$는 $P(B^c\cap A) + P(A\cap B)$로 변환할 수 있다.

	이 경우, $P(B^c\cap A) + P(A\cap B)$는 $P(A|B)P(B) + P(A|B^c)P(B^c)$이다.
	
	즉, 1번과 같은 결론이 나온다.
	
	벤다이어그램을 그려보면, $P(A)$는 $\frac{z + x}{u}$이다. 이를 쪼개면, $\frac{z}{u} + \frac{x}{u}$가 나온다. 이것은 $P(A\cap B) + P(A^c\cap B)$이다.
	
	![](/bin/Math_image/Bayes1.png)